(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[212],{4014:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/user_setting",function(){return t(8166)}])},8166:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return y}});var r=t(5666),i=t.n(r),o=t(5893),c=t(9008),a=(t(1664),t(1163)),s=t(7294),u=t(7015),l=t(2804),f=t(9707),d=t(5303),h=t(2033),p=t(9361),m=t.n(p);function v(n,e,t,r,i,o,c){try{var a=n[o](c),s=a.value}catch(u){return void t(u)}a.done?e(s):Promise.resolve(s).then(r,i)}function x(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=[],r=!0,i=!1,o=void 0;try{for(var c,a=n[Symbol.iterator]();!(r=(c=a.next()).done)&&(t.push(c.value),!e||t.length!==e);r=!0);}catch(s){i=!0,o=s}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return t}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function j(n){return function(n){if(Array.isArray(n)){for(var e=0,t=new Array(n.length);e<n.length;e++)t[e]=n[e];return t}}(n)||function(n){if(Symbol.iterator in Object(n)||"[object Arguments]"===Object.prototype.toString.call(n))return Array.from(n)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function y(n){(0,a.useRouter)();var e=x((0,l.FV)(u.KL),2),t=e[0],r=(e[1],x((0,l.FV)(u.aH),2)),p=(r[0],r[1],(0,s.useRef)(),(0,s.useRef)([]),(0,s.useState)(!1)),y=p[0],_=p[1],w=(0,s.useState)([]),g=w[0],b=w[1];return(0,s.useEffect)((function(){var n;null!=t&&(n=i().mark((function n(){var e,r,o,c,a;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(y){n.next=10;break}return e=localStorage.getItem("token"),n.next=4,fetch("http://".concat(h.O9,"/restricted/get_rooms"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify({room_ids:t.room_ids})}).catch((function(){return null}));case 4:if(null==(r=n.sent)){n.next=10;break}return n.next=8,r.json().catch((function(){return null}));case 8:null!=(o=n.sent).result&&0===o.result&&(c=o.rooms,_(!0),a=[],c.map((function(n,e){""==n.icon&&(n.icon=h.FK),a.push({id:n.id,name:n.name,icon:n.icon,num_unread:0,last_update:new Date,last_message:""})})),b(j(g).concat(j(a))));case 10:case"end":return n.stop()}}),n)})),function(){var e=this,t=arguments;return new Promise((function(r,i){var o=n.apply(e,t);function c(n){v(o,r,i,c,a,"next",n)}function a(n){v(o,r,i,c,a,"throw",n)}c(void 0)}))})()}),[g,t]),console.log(t),(0,o.jsx)(f.Z,{children:null==t?(0,o.jsx)("div",{children:"Loading"}):(0,o.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-screen w-full",children:[(0,o.jsxs)(c.default,{children:[(0,o.jsx)("title",{children:"\u81ea\u5206\u306e\u8a2d\u5b9a"}),(0,o.jsx)("meta",{"http-equiv":"cache-control",content:"no-cache"}),(0,o.jsx)("meta",{"http-equiv":"expires",content:"0"}),(0,o.jsx)("meta",{"http-equiv":"pragma",content:"no-cache"})]}),(0,o.jsx)(d.Z,{title:"\u81ea\u5206\u306e\u8a2d\u5b9a"}),(0,o.jsxs)("main",{className:"flex flex-col items-center justify-start w-full flex-1 container bg-zinc-100 space-y-16",children:[(0,o.jsx)("div",{children:(0,o.jsxs)("p",{children:["\u3042\u306a\u305f\u306e\u540d\u524d: ",t.name]})}),(0,o.jsx)("div",{children:(0,o.jsxs)("p",{children:["\u3042\u306a\u305f\u306eID: ",t.id]})}),(0,o.jsx)("div",{}),(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{children:"\u3042\u306a\u305f\u306eQR\u30b3\u30fc\u30c9"}),(0,o.jsx)("div",{children:(0,o.jsx)(m(),{value:"http://".concat(h.nw,"/add_user_to_room?id=").concat(t.id)})})]})]})]})})}}},function(n){n.O(0,[300,533,774,888,179],(function(){return e=4014,n(n.s=e);var e}));var e=n.O();_N_E=e}]);