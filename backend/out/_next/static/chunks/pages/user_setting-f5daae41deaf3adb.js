(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[212],{4014:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/user_setting",function(){return e(8166)}])},8166:function(n,t,e){"use strict";e.r(t),e.d(t,{default:function(){return y}});var r=e(5666),o=e.n(r),i=e(5893),c=e(9008),a=(e(1664),e(1163)),s=e(7294),u=e(7015),l=e(2804),f=e(9707),d=e(5303),h=e(2033),m=e(9361),p=e.n(m);function v(n,t,e,r,o,i,c){try{var a=n[i](c),s=a.value}catch(u){return void e(u)}a.done?t(s):Promise.resolve(s).then(r,o)}function x(n,t){return function(n){if(Array.isArray(n))return n}(n)||function(n,t){var e=[],r=!0,o=!1,i=void 0;try{for(var c,a=n[Symbol.iterator]();!(r=(c=a.next()).done)&&(e.push(c.value),!t||e.length!==t);r=!0);}catch(s){o=!0,i=s}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return e}(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function j(n){return function(n){if(Array.isArray(n)){for(var t=0,e=new Array(n.length);t<n.length;t++)e[t]=n[t];return e}}(n)||function(n){if(Symbol.iterator in Object(n)||"[object Arguments]"===Object.prototype.toString.call(n))return Array.from(n)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function y(n){(0,a.useRouter)();var t=x((0,l.FV)(u.KL),2),e=t[0],r=(t[1],x((0,l.FV)(u.aH),2)),m=(r[0],r[1],(0,s.useRef)(),(0,s.useRef)([]),(0,s.useState)(!1)),y=m[0],_=m[1],w=(0,s.useState)([]),g=w[0],b=w[1];return(0,s.useEffect)((function(){var n;null!=e&&(n=o().mark((function n(){var t,r,i,c,a;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(y){n.next=10;break}return t=localStorage.getItem("token"),n.next=4,fetch("".concat(h.FM,"://").concat(h.O9,"/restricted/get_rooms"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({room_ids:e.room_ids})}).catch((function(){return null}));case 4:if(null==(r=n.sent)){n.next=10;break}return n.next=8,r.json().catch((function(){return null}));case 8:null!=(i=n.sent).result&&0===i.result&&(c=i.rooms,_(!0),a=[],c.map((function(n,t){""==n.icon&&(n.icon=h.FK),a.push({id:n.id,name:n.name,icon:n.icon,num_unread:0,last_update:new Date,last_message:""})})),b(j(g).concat(j(a))));case 10:case"end":return n.stop()}}),n)})),function(){var t=this,e=arguments;return new Promise((function(r,o){var i=n.apply(t,e);function c(n){v(i,r,o,c,a,"next",n)}function a(n){v(i,r,o,c,a,"throw",n)}c(void 0)}))})()}),[g,e]),console.log(e),(0,i.jsx)(f.Z,{children:null==e?(0,i.jsx)("div",{children:"Loading"}):(0,i.jsxs)("div",{className:"bg-gradient-to-r from-cyan-500 to-blue-500 font-mono flex flex-col items-center justify-center min-h-screen w-full",children:[(0,i.jsxs)(c.default,{children:[(0,i.jsx)("title",{children:"\u81ea\u5206\u306e\u8a2d\u5b9a"}),(0,i.jsx)("meta",{httpEquiv:"cache-control",content:"no-cache"}),(0,i.jsx)("meta",{httpEquiv:"expires",content:"0"}),(0,i.jsx)("meta",{httpEquiv:"pragma",content:"no-cache"})]}),(0,i.jsx)(d.Z,{title:"\u81ea\u5206\u306e\u8a2d\u5b9a"}),(0,i.jsx)("div",{className:"m-4"}),(0,i.jsxs)("main",{className:"flex flex-col items-center justify-start w-full flex-1 container bg-slate-50 bg-opacity-40 space-y-16",children:[(0,i.jsx)("div",{children:(0,i.jsxs)("p",{children:["\u3042\u306a\u305f\u306e\u540d\u524d: ",e.name]})}),(0,i.jsx)("div",{children:(0,i.jsxs)("p",{children:["\u3042\u306a\u305f\u306eID: ",e.id]})}),(0,i.jsx)("div",{}),(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{children:"\u3042\u306a\u305f\u306eQR\u30b3\u30fc\u30c9"}),(0,i.jsx)("div",{children:(0,i.jsx)(p(),{value:"".concat(h.FM,"://").concat(h.nw,"/add_user_to_room?id=").concat(e.id)})})]})]})]})})}}},function(n){n.O(0,[300,533,774,888,179],(function(){return t=4014,n(n.s=t);var t}));var t=n.O();_N_E=t}]);